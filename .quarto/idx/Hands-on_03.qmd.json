{"title":"Processing and Visualising Landsat 8 Data","markdown":{"headingText":"Processing and Visualising Landsat 8 Data","containsRefs":false,"markdown":"\n## Overview\n\nIn this lesson, we will focus on learning how to process the downloaded Landsat 8 data using QGIS.\n\nThis chapter is a continuouation of Chapter 2. We assume that you already have Landsat 8 data set(s) downloaded. If you have yet to do so, please refer to [Chapter 2: Acquiring Landsat 8 Data](Hands-on_01.html) to download a Landsat 8 data set of an area of interest.\n\n-   [RGB image comparison](file:///D:/github%20repository/Geospatial%20data%20Science%20in%20R/landsat-8-image-processing.html#rgb-image-comparison)\n-   [Pan Sharpening or Image Fusion](file:///D:/github%20repository/Geospatial%20data%20Science%20in%20R/landsat-8-image-processing.html#pan-sharpening-or-image-fusion)\n-   [Radiometric Calibration and Atmospheric Correction](file:///D:/github%20repository/Geospatial%20data%20Science%20in%20R/landsat-8-image-processing.html#radiometric-calibration-and-atmospheric-correction)\n\n## Installing Semi-Automatic Classification Plugin\n\nBefore we getting started, we will install a QGIS plugin specially designed for digital image processing and classification called Semi-Automatic Classification Plugin (SCP). It provides tools for the download, the preprocessing and postprocessing of images. It also allows for the supervised classification of remote sensing images. The plugin requires the installation of GDAL, OGR, Numpy, SciPy, and Matplotlib. Some tools require also the installation of SNAP (ESA Sentinel Application Platform). For more information please visit https://fromgistors.blogspot.com .\n\n-   From the menu bar, click on **Plugin** -\\> **Manage and Install Plugins**.\n\n![](img03/image1.jpg){width=\"300\"}\n\nPlugins dialog window appears.\n\n-   At the search, type Semi-Automatic.\n\nYou will see the plugin appears.\n\n![](img03/image2.jpg)\n\n-   Click on **Install Plugin** button to install the plugin.\n\nWhen the installation completed,\n\n-   click on the **Close** button to close the dialog window.\n\nBy default, SCP tools menu and icons should appears on your QGIS. If they are not there, do the followings:\n\n-   From the menu bar, click on View -\\> toolbars.\n\n![](img03/image3.jpg){width=\"247\"}\n\n-   Click on the check-box in front of **SCP Working Toolbar**.\n\nNotice that SCP Working Toolbar is added on QGIS menu bar.\n\n![](img03/image4.jpg)\n\n## Importing Landsat 8 data\n\nNow, let us import the Landsat 8 data into QGIS environment.\n\n-   From the menu bar, select **Layer** -\\> **Add Layer** -\\> **Add Raster Layer**.\n\n![](img03/image5.jpg)\n\n**Data Source Manager\\|Raster** dialog window appears.\n\n![](img03/image6.jpg)\n\n-   Click on the button at the end of **Raster dataset(s)**.\n\n-   Navigate to the folder where the Landsat 8 data were reside.\n\n-   Press on ctrl key, then click on **B1** until **B11** data.\n\n![](img03/image7.jpg)\n\n-   Then, click on **Open** button.\n\nYour screen should look similar to the screenshot below.\n\n![](img03/image8.jpg)\n\nNotice that the scene cover areas beyond the national boundary of Singapore.\n\n## Extracting Scene within Singapore\n\nWe are going to use the extend of MP14 Planning Subzone GIS data to extract the raw scene. The data can be downloaded from data.gov.sg homepage. It is in ESRI shapefile format.\n\n### Importing MP14 Planning Subzone boundary into QGIS\n\nAfter downloading MP14 Planning Subzone boundary shapefile, we will import it into QGIS environment.\n\n-   From the menu bar, select **Layer** -\\> **Add Layer** -\\> **Add Vector Layer**.\n\n![](img03/image9.jpg)\n\n**Data Source Manager\\|Vector** dialog window appears.\n\n-   Click on the button at the end of Vector Dataset(s).\n\n-   Navigate to the folder where MP14 Planning Subzone Boundary shapefile are reside.\n\n-   Click on the file with .shp extension.\n\n-   Click on **Open** button.\n\nYour screen should look similar to the screenshot below.\n\n![](img03/image19.jpg)\n\n-   Click on Add button.\n\nWhen the data is added onto QGIS successfully.\n\n-   click on Close button to close the dialog window.\n\nYour screen should look similar to the screenshot below.\n\n![](img03/image20.jpg)\n\nBefore we can perform the raster data extraction, it is important for us to ensure that the reference data (i.e. MP14 Planning Subzone Boundary) has a proper EPSG code.\n\n-   Right-click on `MP14_PLNG_AREA_NO_SEA_PL` and select **Properties** from the context menu.\n-   If necessary click on **Source** tab.\n\nNotice that although the shapefile is in svy21 projection system but it does not have appropriate EPSG code.\n\n![](img03/image21.jpg)\n\n-   Click on the drop-down list behind, select **EPSG:3414 - SVY21 / Singapore TM**.\n\n![](img03/image22.jpg)\n\n-   Click on **Apply** button to update the change.\n\n-   Click on **OK** to close the dialog window.\n\n### Extracting raster data\n\nNow, we are ready to extract the data.\n\n-   From the menu bar, select **Raster** -\\> **Extraction** -\\> **Clip Raster by Extent**.\n\n![](img03/image23.jpg){width=\"335\"}\n\n**Clip Raster by Extent** appears.\n\n![](img03/image24.jpg)\n\n-   For **Input layer**, select one of the raster layer from the list.\n\n![](img03/image25.jpg)\n\n-   For **Clipping exten**t, click on the button at the end of the pane.\n\n-   Select **Calculate from Layer** from the context menu,\n\n![](img03/image26.jpg){width=\"253\"}\n\n-   Select `MP14_PLNG_AREA_NO_SEA_PL` from the list.\n\n![](img03/image27.jpg)\n\n-   Click on **Run** button.\n\nWhen the process completed, read the process log carefully to ensure that there is not error.\n\n-   Click on **Close** button to close the dialog window.\n\nNotice that a temporary layer called `Clipped` is added in the *Layers* panel and display on the *View* window.\n\n![](img03/image28.jpg){width=\"349\"}\n\n### Saving the extracted raster layer into Geopackage\n\nNext , we will save the temporary clipped raster layer into GeoPackage.\n\n-   From **Layer** panel, right-click on **Clipped**.\n\n-   Select **Export** -\\> **Save as** from the context menu.\n\n**Save Raster Layer** as dialog window appears.\n\n![](img03/image29.jpg)\n\n-   For **Format**, select **GeoPackage** from the drop-down list.\n\n-   For **File name**, navigate to `GeoPackage` folder (Note: Create a folder called `GeoPackage` if you do not have one).\n\n-   Give a new GeoPackage name (i.e. SG).\n\n-   For **Layer name**, give the layer a name such as `LC08_20180508_B1`.\n\nNote that this is an Landsat 8 data, we tend to include the date when the scene was captured (i.e. 20180508) and which band (i.e. B1) for the layer name.\n\n-   Lastly, click on **OK** button to run the process.\n\nWhen the process completed, notice that a new layer called `LC08_20180508_B1` is added into **Layer** panel and display on **View** window.\n\n![](img03/image30.jpg)\n\n-   Remove `Clipped` temporary layer from **Layer** panel.\n\n> DIY: Repeat the steps you had learned to extract the remaining 10 bands and save them into the newly created GeoPackage.\n\n-   Check all the extracted file carefully. If all layers are in proper order. Remove the raw scene layers from QGIS's **Layer** panel.\n\nThe **Layer** panel should have the extracted layers as shown below.\n\n![](img03/image31.jpg){width=\"274\"}\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"Hands-on_03.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.0.37","bibliography":["references.bib"],"editor":"visual","theme":"cosmo"},"extensions":{"book":{"multiFile":true}}},"pdf":{"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","output-file":"Hands-on_03.pdf"},"language":{},"metadata":{"block-headings":true,"bibliography":["references.bib"],"editor":"visual","documentclass":"scrreprt"},"extensions":{"book":{}}}}}