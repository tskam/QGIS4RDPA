[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Remotely Sensed Data Processing and Analysis: QGIS Methods",
    "section": "",
    "text": "License\nThis digital book is (and will always be) free to use, and is licensed under the Creative Commons Attribution-NonCommercial-NoDerivs 4.0 License."
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Introduction",
    "section": "",
    "text": "QGIS (formally known as Quantum GIS) is a full-features open source GIS software. It is the GIS tool used in this course.\nThis section provides you with step-by-step guide on how to download and install QGIS in your window-based computer (i.e. desktop or laptop)."
  },
  {
    "objectID": "intro.html#downloading-qgis-installer",
    "href": "intro.html#downloading-qgis-installer",
    "title": "1  Introduction",
    "section": "1.1 Downloading QGIS installer",
    "text": "1.1 Downloading QGIS installer\n\nLaunch the web browser.\nIn the address bar at the top of the window, enter http://qgis.org/ and press Enter.\n\nThe website should look something like this:\n\n\nClick on Download Now button.\n\nYour screen should look similar to the figure below.\n\n\nClick on QGIS Standalone Installer Version 3.26\n\n\nAfter a few seconds (depend on your network speed), a pop-up window appears.\n\n\nClick on the Save File button.\n\nBe patient, the downloading will take a few minutes depend on the speed of your internet."
  },
  {
    "objectID": "intro.html#installing-qgis",
    "href": "intro.html#installing-qgis",
    "title": "1  Introduction",
    "section": "1.2 Installing QGIS",
    "text": "1.2 Installing QGIS\nIn this section, you will learn how to install QGIS into your computer.\n\nFind the QGIS installer on your computer, right-click and select Install from the context menu to launch the setup.\nClick on the Yes button when Windows prompt you with the dialog “Do you want to allow this app to make change to your device?”\n\nAfter a few second, the Setup Wizard dialog window appears.\n\n\nClick on the Next button.\n\nThe End-User License Agreement dialog window appears.\n\n\nClick on the checkbox in front of I accept the terms in the License Agreement button.\nThen, click on Next button.\n\nThe Destination Folder dialog window appears.\n\n\nEnsure that the Destination Folder is at C:\\Program Files\\QGIS 3.26.1\\\nKeep both checkboxes selected.\nClick on the Next button.\n\nThe Ready to install QGIS 3.26.1 ‘Buenos Aires’ dialog window appears.\n\n\nClick on Install button to start the installation process.\n\n\nQGIS will begin to install. It may take a few minutes to install so be patient.\nWhen the installation is completed, a Setup Wizard window look similar to the screenshot below appears.\n\n\nClick on Finish button.\n\nCongratulations! You have installed QGIS successfully!"
  },
  {
    "objectID": "Hands-on_01.html",
    "href": "Hands-on_01.html",
    "title": "2  Acquiring Landsat 8 Data",
    "section": "",
    "text": "Landsat 8 is an American Earth observation satellite launched on 11 February 2013. The data can be downloaded free of charge by using EarthExplorer portal of USGS. In this chapter, you will learn how to use interfaces provided by EarthExplorer to :\n\nsearch for area of interest,\ndefine area of interest,\ndefine specific data extraction criteria, and\ndownload select data."
  },
  {
    "objectID": "Hands-on_01.html#register-and-create-a-user-account-with-eros-usgs",
    "href": "Hands-on_01.html#register-and-create-a-user-account-with-eros-usgs",
    "title": "2  Acquiring Landsat 8 Data",
    "section": "2.2 Register and create a user account with EROS, USGS",
    "text": "2.2 Register and create a user account with EROS, USGS\n\nFirst, let us visit EarthExplorer website by click on this url.\n\nEarthExplorer website appears on your default web browser as shown be below.\n\nNext, you need to create an account with EarthExplorer, USGS.\n\nAt the top-right corner, click the Login button.\n\nA new window open on your web browser.\n\n\nScroll down the page until you see the Create New Account button.\n\n\n\nClick on Create New Account button.\n\nEROS registration page appears on your browser.\n\n\nComplete the form to register.\n\nOnce you have registered with USGS successfully, use the newly created username and password to login EarthExplorer.\nYour screen should look similar to the screenshot below.\n\nNotice the now the upper right corner will include your username.\nThe USGS Earth Explorer interface uses Google Maps. You can zoom in and out with the mouse wheel as if you are in Google Maps. Google street view is also enabled, where you can drop a marker and get a real view of the location.\nBefore getting started, it is always a good practice to click on Clear Search Criteria in order to clear away all the previous search criteria.\nIn order to download Landsat 8 data from USGS Earth Explorer, here are the four steps you’ll need to follow:\n\n2.2.1 Step 1. Set your area of interest in the “Search Criteria” tab\nThe easiest way to define the area of interest is by zooming into your area of interest.\n\nNavigate and zoom into Singapore.\n\nYour screen should look similar to the screenshot below.\n\nOnce you have confirmed the area of interest,\n\nScroll downward until you see Use Map button appears on the left panel.\n\n\n\nClick on Use Map button.\n\nNotice that the selected area of interest appears red and the four corner coordinates are displayed on the left panel.\n\n\n\n2.2.2 Step 2. Select your data to download in the “Data Sets” tab\nNext, we are going to select the data set.\n\nScroll down until the end of the page, click on Data Sets button.\n\n\nThe available data sets list appears on the left panel as shown below.\n\nUSGS Earth Explorer provides a comprehensive remote sensing datasets: aerial imagery, AVHRR, commercial imagery, digital elevation models, Landsat, LiDAR, MODIS, Radar, and more. We are interested on Landsat 8 data.\n\nFrom the list, click on the check-box in front of Landsat -> Landsat Collection 2 Level 1 -> Landsat 8-9 OLI/TIRS C2L1.\n\n\n\n\n2.2.3 Step 3. Filter your data in the “Additional Criteria” tab\nNext, we will define additional search criteria.\n\nFrom the left panel, click on Additional Criteria button.\n\n\nIn general, we would like to select a cloud free Landsat 8 data. However, it is almost impossible to obtain a cloud free data sets. To be reality, a search criterion of 10-15% land cloud cover will be used.\n\nFrom the left panel, click on the cross button at the back of Land Cloud Cover.\nType 5 to 15. This mean we would like to narrow the search to 5-15% land cloud cover.\n\n\n\n\n2.2.4 Step 4. Download free Landsat imagery in the “Results” tab usgs earth explorer results\nNow, we are ready to download the select data sets. However, before we do so, it is a best practice for us to do a quick view of the data sets meeting our search criteria.\n\nFrom the left panel, click on Results button.\n\nA list of Landsat 8 data meeting the search criteria appears on the left panel.\n\nBefore downloading any of the data sets, it is important for us to examine the scene in order to ensure that they are indeed fall within our area of interest. For example if you click on the thumb image dated 2019/02/11, you will notice that it did not Singapore.\n\nAfter careful examination, let us down the data set acquired on 2018/05/24.\n\nFrom the data set pane, click on Download button.\n\n\nDownload Options window appears.\n\nSince we are going to use the data for image processing and analysis, we will download the Level 1 GeoTIFF data product.\n\nClick on the drop-down list of Product Options.\n\nProduct Download Options window appears.\n\n\nClick on the button in front of Landsat Collection 2 Level-1 Product Bundle.\n\nBe patient, the data size is very large and will take sometime to download.\n\n\nGentle reminder: The downloaded data will be in zip file format. You need to unzip the file. It is also a good practice to keep the downloaded files in the project folder."
  },
  {
    "objectID": "Hands-on_01.html#downloading-sentinel-2-data",
    "href": "Hands-on_01.html#downloading-sentinel-2-data",
    "title": "2  Acquiring Landsat 8 Data",
    "section": "2.3 Downloading Sentinel 2 data",
    "text": "2.3 Downloading Sentinel 2 data\nSentinel-2 is an Earth observation mission from the Copernicus Programme that systematically acquires optical imagery at high spatial resolution (10 m to 60 m) over land and coastal waters."
  },
  {
    "objectID": "Hands-on_02.html",
    "href": "Hands-on_02.html",
    "title": "3  Acquiring Sentinel-2 Data",
    "section": "",
    "text": "Sentinel-2 is an Earth observation mission from the Copernicus Programme that systematically acquires optical imagery at high spatial resolution (10 m to 60 m) over land and coastal waters. There are several ways to download Sentinel-2 data including using a QGIS plugion. In this chapter, you will learn how to use interfaces provided by Sentinels Scientific Data Hub to :\n\nsearch for area of interest,\ndefine area of interest,\ndefine specific data extraction criteria, and\ndownload select data."
  },
  {
    "objectID": "Hands-on_02.html#register-and-create-a-user-account-with-copernicus",
    "href": "Hands-on_02.html#register-and-create-a-user-account-with-copernicus",
    "title": "3  Acquiring Sentinel-2 Data",
    "section": "3.2 Register and create a user account with Copernicus",
    "text": "3.2 Register and create a user account with Copernicus\n\nFirst, let us visit Copernicus Open Access Hub website by click on this url.\n\nCopernicus Open Access Hub website appears on your default web browser as shown be below.\n\nNext, you need to create an account with Copernicus Open Access Hub.\n\nAt the top-right corner, click the first button.\nNext, click on Sign-up.\n\n\nA new window open on your web browser.\n\n\nComplete the form by providing the necessary information.\nClick on REGISTER button located at the end of of the page.\nWithin a second, you will receive a e-mail from Copernicus requesting you to validate your email. Complete the validation by responding to the e-mail.\n\nNow, you are ready to download Sentinel-2 data from Copernicus Open Access Hub.\n\n3.2.1 Step 1: Select area of interest\nThe easiest way to define the area of interest is by zooming into your area of interest.\n\nNavigate and zoom into Singapore.\n\nYour screen should look similar to the screenshot below.\n\nDifferent from EarthExplorer, Copernicus Open Access Hub uses OSM map as the reference map. In fact, there are three reference maps.\n\nClick on Map Layer button located on the upper right of the view window.\n\n\n\nFeel free to change the reference map by clicking on any one of them.\n\nNext, we will select the area of interest.\n\nFrom the view window, click on Area mode button.\n\n\n\nPosition the mouse at the upper left corner of Singapore island.\nPress of left button of the mouse, then drape to form a window as show on the screenshot below.\n\n\n\nRelease the mouse.\n\nNotice that the area of interest has been locked.\n\n\n\n3.2.2 Step 2: Specifying search criteria\nNext, we will specify the search criteria.\n\nClick on the Advanced Search button.\n\n\nThe Advanced Search panel appears.\n\nLet say we are interested to find Sentinel-2 data sets for the year 2018.\n\nFor Sensing period, select 2018/01/01 as starting date and 2018/12/31 as the end date..\n\n\n\nThen click on the check-box in front of Mission: Sentinel 2.\n\n\n\nLastly, click on Search button to start the search.\n\n\nWithin a second, the search results appear on the left panel.\n\nThe list shows that there a total of 76 scene meet the search criteria.\n\n\n3.2.3 Step 3: Downloading a selected scene\nLet sat we are interested to download the scene taken on 2018/02/10.\n\nNavigate to the scene then click on View Product Detail button.\n\n\n\nScroll down to read the important information of the scene. For example, the report shows that the scene has relatively less cloud cover of 5.6%.\nWhen you are ready to download the data set, click on the Close button to close the window.\nAt the left window, hover the mouse over the scene dated 2018/02/10. Click on Download button.\n\n\nA pop-up window appears informing us that the offline product retrieval had been initiated and we should check our Cart to know when it will be ready.\n\n\nClick on OK button to close the window.\n\nBe patient, the data size is very large and will take at least an hour to download.\n\nGentle reminder: The downloaded data will be in zip file format. You need to unzip the file. It is also a good practice to keep the downloaded files in the project folder."
  },
  {
    "objectID": "Hands-on_03.html",
    "href": "Hands-on_03.html",
    "title": "4  Processing and Visualising Landsat 8 Data",
    "section": "",
    "text": "In this chapter, we will focus on learning how to process the downloaded Landsat 8 data using QGIS and Semi-Automatic Classification Plugin of QGIS. It is a continuation of Chapter 2. We assume that you already have Landsat 8 data set(s) downloaded. If you have yet to do so, please refer to Chapter 2: Acquiring Landsat 8 Data to download a Landsat 8 data set of an area of interest.\nBy the end of this chapter, you will acquire the skills to:\n\nextract subset from a complete scene,\nenhance individual band for clearer visualisation,\ncreate composite images by using multiple bands for visual interpretation,\ncompute vegetation indices for land cover analysis."
  },
  {
    "objectID": "Hands-on_03.html#installing-semi-automatic-classification-plugin",
    "href": "Hands-on_03.html#installing-semi-automatic-classification-plugin",
    "title": "4  Processing and Visualising Landsat 8 Data",
    "section": "4.2 Installing Semi-Automatic Classification Plugin",
    "text": "4.2 Installing Semi-Automatic Classification Plugin\nBefore we getting started, we will install a QGIS plugin specially designed for digital image processing and classification called Semi-Automatic Classification Plugin (SCP). It provides tools for the download, the preprocessing and postprocessing of images. It also allows for the supervised classification of remote sensing images. The plugin requires the installation of GDAL, OGR, Numpy, SciPy, and Matplotlib. Some tools require also the installation of SNAP (ESA Sentinel Application Platform). For more information please visit https://fromgistors.blogspot.com .\n\nFrom the menu bar, click on Plugin -> Manage and Install Plugins.\n\n\nPlugins dialog window appears.\n\nAt the search, type Semi-Automatic.\n\nYou will see the plugin appears.\n\n\nClick on Install Plugin button to install the plugin.\n\nWhen the installation completed,\n\nclick on the Close button to close the dialog window.\n\nBy default, SCP tools menu and icons should appears on your QGIS. If they are not there, do the followings:\n\nFrom the menu bar, click on View -> toolbars.\n\n\n\nClick on the check-box in front of SCP Working Toolbar.\n\nNotice that SCP Working Toolbar is added on QGIS menu bar."
  },
  {
    "objectID": "Hands-on_03.html#importing-landsat-8-data",
    "href": "Hands-on_03.html#importing-landsat-8-data",
    "title": "4  Processing and Visualising Landsat 8 Data",
    "section": "4.3 Importing Landsat 8 data",
    "text": "4.3 Importing Landsat 8 data\nNow, let us import the Landsat 8 data into QGIS environment.\n\nFrom the menu bar, select Layer -> Add Layer -> Add Raster Layer.\n\n\nData Source Manager|Raster dialog window appears.\n\n\nClick on the button at the end of Raster dataset(s).\nNavigate to the folder where the Landsat 8 data were reside.\nPress on ctrl key, then click on B1 until B11 data.\n\n\n\nThen, click on Open button.\n\nYour screen should look similar to the screenshot below.\n\nNotice that the scene cover areas beyond the national boundary of Singapore."
  },
  {
    "objectID": "Hands-on_03.html#extracting-scene-within-singapore",
    "href": "Hands-on_03.html#extracting-scene-within-singapore",
    "title": "4  Processing and Visualising Landsat 8 Data",
    "section": "4.4 Extracting Scene within Singapore",
    "text": "4.4 Extracting Scene within Singapore\nWe are going to use the extend of MP14 Planning Subzone GIS data to extract the raw scene. The data can be downloaded from data.gov.sg homepage. It is in ESRI shapefile format.\n\n4.4.1 Importing MP14 Planning Subzone boundary into QGIS\nAfter downloading MP14 Planning Subzone boundary shapefile, we will import it into QGIS environment.\n\nFrom the menu bar, select Layer -> Add Layer -> Add Vector Layer.\n\n\nData Source Manager|Vector dialog window appears.\n\nClick on the button at the end of Vector Dataset(s).\nNavigate to the folder where MP14 Planning Subzone Boundary shapefile are reside.\nClick on the file with .shp extension.\nClick on Open button.\n\nYour screen should look similar to the screenshot below.\n\n\nClick on Add button.\n\nWhen the data is added onto QGIS successfully.\n\nclick on Close button to close the dialog window.\n\nYour screen should look similar to the screenshot below.\n\nBefore we can perform the raster data extraction, it is important for us to ensure that the reference data (i.e. MP14 Planning Subzone Boundary) has a proper EPSG code.\n\nRight-click on MP14_PLNG_AREA_NO_SEA_PL and select Properties from the context menu.\nIf necessary click on Source tab.\n\nNotice that although the shapefile is in svy21 projection system but it does not have appropriate EPSG code.\n\n\nClick on the drop-down list behind, select EPSG:3414 - SVY21 / Singapore TM.\n\n\n\nClick on Apply button to update the change.\nClick on OK to close the dialog window.\n\n\n\n4.4.2 Extracting raster data\nNow, we are ready to extract the data.\n\nFrom the menu bar, select Raster -> Extraction -> Clip Raster by Extent.\n\n\nClip Raster by Extent appears.\n\n\nFor Input layer, select one of the raster layer from the list.\n\n\n\nFor Clipping extent, click on the button at the end of the pane.\nSelect Calculate from Layer from the context menu,\n\n\n\nSelect MP14_PLNG_AREA_NO_SEA_PL from the list.\n\n\n\nClick on Run button.\n\nWhen the process completed, read the process log carefully to ensure that there is not error.\n\nClick on Close button to close the dialog window.\n\nNotice that a temporary layer called Clipped is added in the Layers panel and display on the View window.\n\n\n\n4.4.3 Saving the extracted raster layer into Geopackage\nNext , we will save the temporary clipped raster layer into GeoPackage.\n\nFrom Layer panel, right-click on Clipped.\nSelect Export -> Save as from the context menu.\n\nSave Raster Layer as dialog window appears.\n\n\nFor Format, select GeoPackage from the drop-down list.\nFor File name, navigate to GeoPackage folder (Note: Create a folder called GeoPackage if you do not have one).\nGive a new GeoPackage name (i.e. SG).\nFor Layer name, give the layer a name such as LC08_20180508_B1.\n\nNote that this is an Landsat 8 data, we tend to include the date when the scene was captured (i.e. 20180508) and which band (i.e. B1) for the layer name.\n\nLastly, click on OK button to run the process.\n\nWhen the process completed, notice that a new layer called LC08_20180508_B1 is added into Layer panel and display on View window.\n\n\nRemove Clipped temporary layer from Layer panel.\n\n\nDIY: Repeat the steps you had learned to extract the remaining 10 bands and save them into the newly created GeoPackage.\n\n\nCheck all the extracted file carefully. If all layers are in proper order. Remove the raw scene layers from QGIS’s Layer panel.\n\nThe Layer panel should have the extracted layers as shown below."
  },
  {
    "objectID": "Hands-on_03.html#image-enhancement-using-qgis",
    "href": "Hands-on_03.html#image-enhancement-using-qgis",
    "title": "4  Processing and Visualising Landsat 8 Data",
    "section": "4.5 Image Enhancement using QGIS",
    "text": "4.5 Image Enhancement using QGIS\nImage enhancement algorithms are applied to remotely sensed data to improve the appearance of an image for human visual analysis or occasionally for subsequent machine analysis. There is no such thing as the ideal or best image enhancement because the results are ultimately evaluated by humans, who make subjective judgments as to whether an enhanced image is useful.\nIn this section, you will learn how to perform image enhancement task by using basic QGIS function.\n\nFrom Layers panel, click on the check-box of LC08_20180508_B1.\n\nYour screen should look similar to the screenshot below.\n\nThis is Landsat Band1 image. Unfortunately, this image layer has very poor contrast. As a result, we can hardly see any ground features from the image. This issue can be address by using image enhancement provided by QGIS.\n\nFrom the menu bar, select Zoom in  button.\n\nBuild a small rectangle look similar to the screenshot below.\n\nYour screen should look similar to the screenshot below.\n\n\nNow, right-click on LC08_20180508_B1, select Stretch Using Current Extend from the context menu.\n\nYour screen should look similar to the screenshot below.\n\nLet us zoom back to the full extent of the image and take a look at what has changed.\n\nFrom Layers panel, right click on LC08_20180508_B1 and select Zoom to Layer(s).\n\nNow you can see the ground feature much clearer because the image have relatively better contrast as shown in the screenshot below."
  },
  {
    "objectID": "Hands-on_03.html#creating-composite-images-using-scp",
    "href": "Hands-on_03.html#creating-composite-images-using-scp",
    "title": "4  Processing and Visualising Landsat 8 Data",
    "section": "4.6 Creating Composite Images using SCP",
    "text": "4.6 Creating Composite Images using SCP\nWith satellite remote sensing systems it is possible to detect and record parts of the electromagnetic spectrum that cannot be detected by the naked eye, for example, the infrared band. To visualise this information we pair up display colours (red-green-blue) with spectral bands in the observation system that do not necessary correspond to them. In so doing, we create coloured composites that are sometimes called ‘false colour images’. In this section, you will learn how to create colour composite image by using SCP of QGIS.\n\n4.6.1 Building a band set\nImage input in SCP is named band set. One of the main changes of SCP 6 will be the ability to define multiple band sets (in SCP 5 only one Band set can be defined) as input for classification and other tools.\nNow, let us create a band set by using Band Set tool.\n\nFrom the menu bar, click on Semi-Automatic Classification Plugin  icon.\n\nSemi-Automatic Classification Plugin dialog window appears.\n\nNext, we will select the input image bands from Single Band list.\n\nFrom Single band list, click on the check-box in front of Band 1 to Band 7.\nThen, click on the plus icon located at the right panel.\n\n\nNotice that the selected seven bands have been added into Band set definition list as shown below.\n\nBand sets are identified by numbers (i.e. Band set 1) and the active band set (i.e. highlighted with a bold green name) is used as input for the tools in SCP dock. It will be possible to change the classification input just by selecting the corresponding band set tab. In a few clicks we will be able to compare the classification previews of different images without the need to create different QGIS projects.\nNext, we will update the wavelength summary.\n\nAt Wavelength quick settings, click on the drop-down list at the back.\n\n\n\nThen, select Landsat 8 OLI [bands 1, 2, ,3, 4, 5, 6, 7] which is the input images source.\n\n\nNotice that the Band set list information have been updated.\n\n\n\n4.6.2 Creating natural colour composite image\nNow, we are ready to create colour composite image by using the Band set.\nFirst, we will create a natural colour composite by using\n\nReturn to QGIS window.\nClick on the drop-down list behind RGB pane.\nSelect 3-2-1 from the drop-down list. If it is not available, type directly onto the pane.\n\n\nNotice that a Virtula Band Set 1 is added onto Layers panel.\n\nYour screen should look similar screenshot below.\n\nThis is what the terrain would look like if we were onboard the satellite platform looking down on Singapore.\nWhile healthy vegetation appears green, cleared fields are light, unhealthy flora is brown and yellow, roads are grey, and coastlines appear whitish. This band combination is well suited for the analysis of aquatic ecosystems, determining water depth. It is also used to study man-made features. With this band combination, logged areas and sparse vegetation are poorly detected, and it is difficult to differentiate one type of vegetation from another.\n\n\n4.6.3 Creating false colour composite image\n\nLet us now create a false colour composite by select the bands’ RGB as 5-4-3.\n\n\nIn false colour composite image, vegetation appears in shades of red, urban areas are green-blue, and the soil color varies from dark to light brown. The shades of deep red indicate healthy and/or broadleaf vegetation, while grassy or sparse/shrubby vegetation appears in lighter shades. This combination is very popular and is used for analyzing vegetation, monitoring soil and crops.\n\n\n4.6.4 Creating colour composite with Bands 7-5-3\n\nNow, let us create a new colour composite by select the bands’ RGB as 7-5-3.\n\nYour screen should look similar to screenshot below.\n\nThis band composite produces an image close to natural colors, and at the same time allows analyzingvthe atmosphere and smoke. Healthy vegetation appears bright green, the grass is green, bright pink areas indicate bare earth, brown and orange hues are characteristic of sparse vegetation. Dead vegetation appears orange, and the water is blue. This band composite is well suited for the analysis of agricultural lands and wetlands, monitoring the dynamics of fires, and post-fire analysis of the territory. Burnt-down areas will appear bright red.\n\nDIY: Using the steps your had learned, create the following colour composites: (5,6,2), (5,6,4), (7,6,4), (6,5,4) and (7,6,5)"
  },
  {
    "objectID": "Hands-on_03.html#deriving-band-combinations-ratios-and-indices",
    "href": "Hands-on_03.html#deriving-band-combinations-ratios-and-indices",
    "title": "4  Processing and Visualising Landsat 8 Data",
    "section": "4.7 Deriving Band Combinations, Ratios and Indices",
    "text": "4.7 Deriving Band Combinations, Ratios and Indices\nFor simple applications such as delineating surface water boundaries, a simple process such as display of a near or middle infrared band can be sufficient. Algebraic combinations of certain bands via division, addition, subtraction, or multiplication can lead to enhanced information. Differences and ratios in various bands are primarily used for change detection and spectral enhancement studies.\nThe most common image band ratios typically include the following: infrared band over red band for vegetation distribution; short-wave infrared band over near infrared band for urban built-up area, green band over red band for mapping surface water bodies and wetland delineation; red band over infrared band for mapping turbid waters; and red band over blue band or red band over green band for mineral mapping.\nIn this section, you will learn how to use Raster Calculator function of QGIS to compute these indices.\n\n4.7.1 Computing Normalized Difference Vegetation Index (NDVI)\nNormalized Difference Vegetation Index (NDVI) quantifies vegetation by measuring the difference between near-infrared (which vegetation strongly reflects) and red light (which vegetation absorbs). The general formula of NDVI is defined as:\n\nwhereby NIR indicates near infra-red band and Red indicates red band.\nThe result of this formula generates a value between -1 and +1. If you have low reflectance (or low values) in the red channel and high reflectance in the NIR channel, this will yield a high NDVI value. And vice versa.\nOverall, NDVI is a standardized way to measure healthy vegetation. In general, healthy vegetation (chlorophyll) reflects more near-infrared (NIR) and green light compared to other wavelengths. But it absorbs more red and blue light. When you have high NDVI values, you have healthier vegetation. \nSince we already know that for Landsat 8, band 5 and band 4 are near infra-red and red respectively. We can compute NDVI by using Raster Calculator of QGIS.\n\nFrom menu bar, click on Raster -> Raster Calculator.\n\nRaster Calculator dialog window appears.\n\nClick on the check-box in front of Create on-the-fly raster instead of writing layer to disk.\n\n\n\nBy clicking on appropriate band from the Raster Band pane and Operators pane, construct a calculation expression as shown on the screen shot below.\n\n\n\nWhen you are ready, click on OK button to run the process.\n\nWith a second, a temporary raster layer is added on Layers panel and display on View window as shown on the screenshot below.\n\nNotice that the NDVI values range from -0.33 to 0.63. NDVI always ranges from -1 to +1. But there isn’t a distinct boundary for each type of land cover. For example, when you have negative values, it’s highly likely that it’s water. On the other hand, if you have an NDVI value close to +1, there’s a high possibility that it’s dense green leaves. But when NDVI is close to zero, there are likely no green leaves and it could even be an urbanized area.\n\nDIY: Using the steps you had learned, save the temporary NDVI layer in GeoTIFF. For easy visual interpretation, you might want to change the colour scheme to a diverging pseudo colour scheme similar to the screenshot below.\n\n\n\n\n4.7.2 Computing Normalized Difference Built-up Index (NDBI)\nThere are lots of indexes for the analysis of built-up area. Normalized Difference Built-up Index (NDBI), Built-up Index (BU), Urban Index (UI), Index-based Built-up Index (IBI), Enhanced Built-up and Bareness Index (EBBI) are most common indexes for analysis the built-up areas. These different indexes having their own formula, own calculation method. The build-up areas and bare soil reflects more SWIR than NIR. Water body doesn’t reflect on Infrared spectrum. In case of greenie surface, reflection of NIR is higher than SWIR spectrum.\nThe general formula of NDBI can be defined as follow:\nNDBI = (SWIR – NIR) / (SWIR + NIR)\nwhereby NIR and SWIR are the near infrared (NIR) and the Short-Wave infrared (SWIR) bands respectively.\nSimilar to NDVI, the NDBI value lies between -1 to +1. Negative value of NDBI represent water bodies where as higher value represent build-up areas. NDBI value for vegetation is low.\nNow, let us compute NDBI by using Raster Calculator of QGIS.\n\nDIY: Using the steps you had learned, compute the NDBI by using Landsat 8 bands, save the temporary NDBI layer in GeoTIFF format.\n\nScreenshot below show an example of NDBI layer. Areas with positive NDBI are shaded in brown and areas with negative NDBI are shared in green."
  },
  {
    "objectID": "Hands-on_04.html",
    "href": "Hands-on_04.html",
    "title": "5  Supervised Satellite Image Classification for Urban Land Cover Mapping",
    "section": "",
    "text": "In this chapter, you will gain hands-on experience on using QGIS and Semi-automatic classification Plugin (SCP) to perform supervised satellite image classification for urban land cover classification. It is a continuation of Chapter 3 and 4.\nBy the end of this chapter, you will acquire the skills to:\n\npreparing land cover scheme for supervised classification,\nextracting sub-scene for classification,\ndigitising ROIs both for training and testing purposes,\nassessing the spectral signatures of samples,\ncreating a classification preview,\ngenerating the classification output,\nassessing the classification accuracy."
  },
  {
    "objectID": "Hands-on_04.html#selecting-the-study-area",
    "href": "Hands-on_04.html#selecting-the-study-area",
    "title": "5  Supervised Satellite Image Classification for Urban Land Cover Mapping",
    "section": "5.2 Selecting the study area",
    "text": "5.2 Selecting the study area\nIn this hands-on exercise, Sentinel-2 data of Singapore taken on 2020/01/26 (ID: S2A_MSIL1C_20200126T032011_N0208_R118_T48NUG_20200126T061348) will be used. The data can be downloaded from the Copernicus Open Access Hub website by click on this url. You can find a step-by-step guide on how to download data from the Copernicus Open Access Hub in Chapter 3: Acquiring Sentinel-2 Data of this workbook.\nFor the purpose of this hands-on exercise, a sub-scene of the data as shown in the figure below will be used.\n\n\nDIY: Using the steps you had learned, extract a study area similar to the screenshot below.\n\nThe study area comprises of Choa Chu Kang, Bukit Panjang and Sungei Kadut planning areas. At the east of the study area is the Central Water Catchment whereby Singapore Zoo, River Safari and Night Safari sites can be seen clearly. Notice that the selected area is free of cloud cover which is very idea for image analysis. Otherwise, you have to use a cloud mask."
  },
  {
    "objectID": "Hands-on_04.html#semi-automatic-classification-plugin-scp",
    "href": "Hands-on_04.html#semi-automatic-classification-plugin-scp",
    "title": "5  Supervised Satellite Image Classification for Urban Land Cover Mapping",
    "section": "5.3 Semi-automatic classification Plugin (SCP)",
    "text": "5.3 Semi-automatic classification Plugin (SCP)\nIn this hands-on exercise, SCP will be used. If you have yet to install SCP, follow the instruction provided by 4.2 Installing Semi-Automatic Classification Plugin of this workbook to install SCP."
  },
  {
    "objectID": "Hands-on_04.html#supervised-classification",
    "href": "Hands-on_04.html#supervised-classification",
    "title": "5  Supervised Satellite Image Classification for Urban Land Cover Mapping",
    "section": "5.4 Supervised Classification",
    "text": "5.4 Supervised Classification\nThe method of classification that you will attempt in this hands-on exercise is called supervised classification. This is a type of classification in which the analyst trains the system to identify spectral classes based on samples of pixels taken from the image. Adequate samples are to be used for each land cover class. Each class should be spectrally different from one another. Samples are made by creating a polygon in representative pixels from a class, then loading those pixels’ information as a signature. After samples have been taken for each land cover class, their separability is to be assessed by observing the signatures on a figure plotting wavelength vs. reflectance value. Samples may need to be refined based on that outcome. The final product of an image classification is a 1 band raster image with land cover types represented as different classes. Figure below shows a typical process of supervised classification.\n\n\n5.4.1 Defining the land cover scheme\nFor the purpose of this study, nine land cover type will be classified, they are:\n\nWater body: sea, coastal water, strait etc\nInland water: lakes, reservoirs, channels, etc.\nBare land: open lands\nNatural and semi-natural vegetation\nManaged vegetation: grass lands, parks, trees etc\nBuilt-up 1: high-density buildings\nBuilt-up 2: medium density buildings\nBuilt-up 3: low density buildigns\nImpervious surfaces:\n\n\n\n5.4.2 Creating Colour Composite Images\nIt is always a best practice to create colour composite images of the study area and use these images to assist you in the the selection and digitising of training and test vector data sets.\n\nDIY: Using the steps you had learned, create the following colour composite images.\n\n\n\n\nA true colour composite of the study area\n\n\n\n\n\nA false colour composite of the study area\n\n\n\n\n\nAn NDVI image of the study area\n\n\n\n\n5.4.3 Creating a Band set\nThe next step is to create a band set.\n\nFrom the menu bar, select SCP -> Band set.\n\n\nBand set dialog window appears.\n\nFrom the Single band list, click on band 2, 3, 4 and 8.\nClick on the plus button.\nFor Wavelength quick setting, Select Sentinel-2 .\n\nYour screen should look similar to the figure below.\n\nAs you can see, the layers are seen under Band Set 1 (e.g. Band 2 - Blue (10 m)). Make sure the bands are in the right order and ascending.\n\nClick on Run button.\n\n\n\n5.4.4 Digitsing training samples\nAll supervised classification methods required prior identification of training samples, also refer to as region of interest (ROI). High quality training data is necessary to get good land cover product results. In the most ideal situation, training data is collected in the field by visiting each of the land cover types to be mapped and collecting attributes. When field collection is not an option, the second best choice is to digitise training data from high resolution colour composite images.\nFigure below shows the false colour composite image of the study area and the training samples for the nine land cover types.\n\nIn this section, you will learn how to digitise training samples with the help of the colour composite and NDVI images created in the earlier section.\n\nFrom the icon bar, click on the icon marks in red.\n\n\nNotice that SCP & Dock panel is added on the left hand panel of QGIS.\nBy default, the Home tab is selected.\n\nClick on the Training input tab.\n\n\nThe panel should look similar to the figure below.\n\nNext, you must create a file where the ROIs can be saved.\n\nAt the SCP & Dock panel, click on the second icon button located at the top level.\n\n\nThe Create SCP training input dialog window open.\n\nNavigate to the data sub-folder (i.e. RSdata), called the output file YT_train.\n\n\n\nWhen you are ready, click on Save button.\n\nNotice that a temporary layer called YT_train has been add onto Layer panel. Also note that Training input layer is YT_train.scp.\n\nBefore we start to create ROIs, let us understand two terms use in SCP, namely Classes and Macroclasses. In SCP, each ROI is identified by a Class ID (i.e. C ID), and each ROI is assigned to a land cover class through a Macroclass ID (i.e. MC ID). Macroclasses are composed of several materials having different spectral signatures; in order to achieve good classification results we should separate spectral signatures of different materials, even if belonging to the same macroclass. Thus,we are going to create several ROIs for each macro class (setting the same MCID, but assigning a different C ID to every ROI).\n\n5.4.4.1 Defining training sample by using polygon\nThe first macroclass we are going to define is water body.\n\nFrom the layer, check to display the false colour composite image.\n\nFigure below shows the location of the water body sample site.\n\nWith SCP, a training sample be created by either manually drawing a polygon or with an automatic region growing algorithm. In this section, you will learn how to define a training sample by using polygon method.\n\nFrom SCP Working toolbar, click on Create a ROI polygon button.\n\n\n\nOn the View window, left click water sample site to define the ROI vertices and right click to define the last vertex closing the polygon.\n\nAn orange semi-transparent polygon is displayed over the image, which is a temporary polygon (i.e. it is not saved in the Training input).\nOnce we are satisfy with the site, we can save it to the Training input.\n\nFrom SCP & Dock panel, click on Training input tab.\nIn the ROI Signature list set MC ID = 1 and MC Info = Water body; also set C ID = 1 and C Info = Water body.\n\nYour screen should look similar to the figure below.\n\n\nNow click on Save temporary ROI to training input button  to save the ROI in the Training input.\n\nAfter a few seconds, the ROI is listed in the ROI Signature list and the spectral signature is calculated (because Signature was checked) as shown in the figure below.\n\nAs you can see, the C ID in ROI Signature list is automatically increased by 1. Saved ROI is displayed as a dark polygon in the map and the temporary ROI is removed.\nBe warned: The MC ID will not increase automatically. It is important for us to increase the number manually every time a new macroclass is used.\n\nAlso, in the ROI Signature list you can notice that the Type is R&S, meaning that the ROI spectral signature was calculated and saved in the Training input.\nYou can also see in the tab Macroclasses that the first macroclass has been added to the table Macroclasses.\n\nDIY: Using the steps you had learned, define a training sample for Inland water as shown in the figure below.\n\n\n\nDIY: Using the steps you had learned, define a training sample for Bare land as shown in the figure below.\n\n\n\nDIY: Using the steps you had learned, define a training sample for Natural vegetation as shown in the figure below.\n\n\n\nDIY: Using the steps you had learned, define a training sample for Managed vegetation as shown in the figure below.\n\n\n\nDIY: Using the steps you had learned, define a training sample for Built-up 1 as shown in the figure below.\n\n\n\nDIY: Using the steps you had learned, define a training sample for Built-up 2 as shown in the figure below.\n\n\n\nDIY: Using the steps you had learned, define a training sample for Built-up 3 as shown in the figure below.\n\n\n\nDIY: Using the steps you had learned, define a training sample for Impervious surfaces as shown in the figure below.\n\n\n\nTip: You can have more than one polygon that represents the same class. In fact, you should typically have many polygons for each class. Many small ROIs are better than a few large ones (a few hundred pixels tops for each ROI). This can help account for the spectral variations in each land cover class. If you provide just one example of forest, it will be hard to recognize the variety of spectral signatures associated with that class. If you have multiple sub-classes under the same class (such as different tree species all being considered forest), your ROIs should reflect the full breadth of possible spectral signatures. You will find that you will need to adjust your training data a number of times (maybe many times!) in order to produce a quality classification. The actual classification part is just pressing a button, what most influences the accuracy of your results is the quality of your training data. Therefore, make sure to take your time when collecting ROIs. The amount of ROIs for each class should be proportional to the total area of that class in the image. If you have more forest than water, then you should have more ROIs for forest than you have for water.\n\n\n\n\n5.4.5 Assessing the Spectral Signatures\nSpectral signatures are used by Classification Algorithms for labelling image pixels. Different materials may have similar spectral signatures (especially considering multispectral images) such as built-up and bare land. If spectral signatures used for classification are too similar, pixels could be misclassified because the algorithm is unable to discriminate correctly those signatures. Thus, it is useful to assess the Spectral Distance of signatures to find similar spectral signatures that must be removed. Of course the concept of distance varies according to the algorithm used for classification.\n\n5.4.5.1 Spectral Signature Plot\nIn SCP, one can simply assess spectral signature similarity by displaying a signature plot.\n\nIn order to display the signature plot, in the ROI Signature list highlight two or more spectral signatures (with click in the table), then click on Spectral Signature Plot  button.\n\nThe Spectral Signature Plot appears.\n\nIn the plot we can see the line of each signature (with the color defined in the ROI & Signature list), and the spectral range (minimum and maximum) of each band (i.e. the semi-transparent area colored like the signature line). The larger is the semi-transparent area of a signature, the higher is the standard deviation, and therefore the heterogeneity of pixels that composed that signature. Spectral similarity between spectral signatures is highlighted in orange in the Plot Signature list.\nFigure below shows the Spectral Signature Plot of Natural vegetation and Managed vegetation. The figure reveals that there are significant overlapping of the signature values of Natural vegetation and Managed vegetation land cover classes.\n\nFigure below shows the Spectral Signature Plot of Built-up 1, Built-up 2, Built-up 3 and Impervious surfaces land cover classes.\n\nThe figure reveals that there are significant overlapping of the signature values of these four land cover types. As a result, we should consider either by combining some of the highly similar land cover type or by increasing the number of more representative training samples.\n\n\n5.4.5.2 Spectral Distance\nAdditionally, we can calculate the spectral distances of signatures (for more information see Spectral Distance).\n\nHighlight two or more spectral signatures with click in the table Plot Signature list, then\nAt the Spectral signature plot window, click on Calculate spectral distance button located at the right of the panel.\n\n\nDistances will be calculated for each pair of signatures.\nNow let us open the tab Spectral distances.\n\nFrom the left of SCP: Spectral signature plot window, click on Spectral distance tab.\n\nYour screen should look similar to the screenshot below.\n\nWe can notice that similarity between signatures vary according to considered algorithm. For instance, two signatures can be very similar for Spectral Angle Mapping (very low Spectral Angle), but quite distant for the Maximum Likelihood (Jeffries-Matusita Distance value near 2). The similarity of signatures is affected by the similarity of materials (in relation to the number of spectral bands available); also, the way we create ROIs influences the signatures.\n\n\n5.4.5.3 Spectral details\nAnother very useful plot in SCP: Spectral Signature Plot window is Signature details.\n\nFrom the left of SCP: Spectral Signature Plot, click on Signature details tab.\n\nYour screen should look similar to the figure below.\n\nSpectral signature values, standard deviation and other details such as the number of ROI pixels are displayed in the Signature details report.\n\n\n\n5.4.6 Creating a Classification Preview\nThe classification process is based on collected ROIs (and spectral signatures thereof). It is useful to create a Classification preview in order to assess the results (influenced by spectral signatures) before the final classification. In case the results are not good, we can collect more ROIs to better classify land cover.\n\nDIY: Before running a classification (or a preview), set the color of land cover classes that will be displayed in the classification raster.\n\n\nIn the ROI Signature list (page 27), double click the color (in the column Color) of each ROI to choose a representative color of each class. Also, we need to set the color for macroclasses in table Macroclasses.\n\nNow, we are read to perform Classification Preview.\nFirstly, we need to select the classification algorithm. In this hands-on exercise we are going to use the Maximum Likelihood algorithm.\n\nFrom menu bar, select SCP -> Band Processing -> Classification.\n\n\nThe Classification dialog window appears.\n\n\nFor Use, check MC ID.\nFor Algorithm, select the Maximum Likelihood from the drop-down list.\n\nNext, return to QGIS window.\n\nFrom SCP Toolbar, set the preview size to 200.\n\n\n\nNext, click on Activate classification preview pointer icon .\nHover you mouse over Kranji Camp, left-click a point of the image in the map.\n\nThe classification process should be very fast, and the result is a classified square centered in clicked point as shown in the screenshot below.\n\nPreviews are temporary rasters (deleted after QGIS is closed) placed in a group named Class_temp_group in the QGIS panel Layers.\n\nIn general, it is good to perform a classification preview every time a ROI (or a spectral signature) is added to the ROI & Signature list. Therefore, the phases Digitising training samples (or ROIs) and Creating a Classification Preview should be iterative and concurrent processes.\n\n\n5.4.7 Generating the Classification Output\nWhen we are happy with the classification preview review, it is time for us to perform the actual land cover classification of the whole image.\n\nFrom the Classificvation window, for Use, make sure that MC ID is checked.\nClick on Run button.\n\nThe Save classification output dialog window appears.\n\nNavigate to the data sub-folder of this project, give the output file an appropriate name (i.e. YT_ML). Notice that the output file will be saved in geotif file format.\n\nWhen the classification process is completed, a sound is played. At the same time, a land cover image called YT_ML will be added into Layers panel and display of view window of QGIS as shown in the figure below.\n\n\n\n5.4.8 Assessing the classification accuracy\nThe last phase of a supervised classification is called classification accuracy assessment. In general, this phase consists of two steps. They are:\n\nDigitise a new layer with ROIs and set again ROIs for the nine classes to have a reference ground. Warning: We cannot use the ROIs we used for the classification because you want to compare the classification with undependable training input.\nPerform classification accuracy analysis by using Accuracy function of SCP.\n\n\nDIY: Using the steps you had learned, digitise a new set of ROIs and name the file YT_test.\n\nOnce the YT_test ROI is ready, we will perform the accuracy assessment analysis.\n\nFrom the menu bar of QGIS, click on SCP -> Postprocessing -> Accuracy.\n\n\nThe Accuracy assessment dialog window appears.\n\nFor Select the classification to assess, select the classified image (i.e. YT_ML) from the drop-down list (Note: It is always a good practice to click on the refresh button located at the end of the selection before clicking on the drop-down list. This is to ensure that the drop-down list provide the latest update.)\nFor Select the reference vector or raster, select the newly created test samples (i.e. YT_test) from the drop-down list (Note: It is always a good practice to click on the refresh button located at the end of the selection before clicking on the drop-down list. This is to ensure that the drop-down list provide the latest update.)\nFor Vector field, select MC_ID from the drop-down list.\n\nYou screen should look similar to the screenshot below.\n\n\nNext, click on Run button.\n\nThe Save error matrix raster output dialog window appears.\n\nProvide the output file a name (i.e. YT_ML).\n\n\nWhen you are ready,\n\nclick on Save button.\n\nThe Accuracy assessment report appears. It consists of three sub-section.\n\nThe long pair-wise error list.\n\n\n\nConfusion Matrix\n\n\n\nKappa hat matix\n\n\nThe output will tell you the accuracy for each class and the overall accuracy. The Kappa scale is from 0 to 1, 0 means the classification is not better than random, 1 means the classification is highly accurate. Refer to Lesson 10 slides for a comprehensive discussion of confusion matrix and Kappa statistics."
  },
  {
    "objectID": "Hands-on_04.html#references",
    "href": "Hands-on_04.html#references",
    "title": "5  Supervised Satellite Image Classification for Urban Land Cover Mapping",
    "section": "5.5 References",
    "text": "5.5 References\nHow Scientists Differentiate Between Land Cover Types.\nWhat is the difference between land cover and land use?"
  },
  {
    "objectID": "Hands-on_05.html",
    "href": "Hands-on_05.html",
    "title": "6  Unsupervised Satellite Image Classification for Urban Land Cover Mapping",
    "section": "",
    "text": "In this chapter, you will gain hands-on experience on using QGIS and Semi-Automatic Classification Plugin of QGIS to perform unsupervised satellite image classification for urban land cover mapping. It is a continuation of Chapter 2. We assume that you already have Landsat 8 data set(s) downloaded. If you have yet to do so, please refer to Chapter 2: Acquiring Landsat 8 Data to download a Landsat 8 data set of an area of interest.\nBy the end of this chapter, you will acquire the skills to:\n\nextract subset from a complete scene,\nenhance individual band for clearer visualisation,\ncreate composite images by using multiple bands for visual interpretation,\ncompute vegetation indices for land cover analysis."
  }
]