<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Remotely Sensed Data Processing and Analysis: QGIS Methods - 4&nbsp; Processing and Visualising Landsat 8 Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Hands-on_04.html" rel="next">
<link href="./Hands-on_02.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Hands-on_03.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Processing and Visualising Landsat 8 Data</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Remotely Sensed Data Processing and Analysis: QGIS Methods</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Hands-on_01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Acquiring Landsat 8 Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Hands-on_02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Acquiring Sentinel-2 Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Hands-on_03.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Processing and Visualising Landsat 8 Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Hands-on_04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Supervised Satellite Image Classification for Urban Land Cover Mapping</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Hands-on_05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Unsupervised Satellite Image Classification for Urban Land Cover Mapping</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><span class="header-section-number">4.1</span> Overview</a></li>
  <li><a href="#installing-semi-automatic-classification-plugin" id="toc-installing-semi-automatic-classification-plugin" class="nav-link" data-scroll-target="#installing-semi-automatic-classification-plugin"><span class="header-section-number">4.2</span> Installing Semi-Automatic Classification Plugin</a></li>
  <li><a href="#importing-landsat-8-data" id="toc-importing-landsat-8-data" class="nav-link" data-scroll-target="#importing-landsat-8-data"><span class="header-section-number">4.3</span> Importing Landsat 8 data</a></li>
  <li><a href="#extracting-scene-within-singapore" id="toc-extracting-scene-within-singapore" class="nav-link" data-scroll-target="#extracting-scene-within-singapore"><span class="header-section-number">4.4</span> Extracting Scene within Singapore</a>
  <ul class="collapse">
  <li><a href="#importing-mp14-planning-subzone-boundary-into-qgis" id="toc-importing-mp14-planning-subzone-boundary-into-qgis" class="nav-link" data-scroll-target="#importing-mp14-planning-subzone-boundary-into-qgis"><span class="header-section-number">4.4.1</span> Importing MP14 Planning Subzone boundary into QGIS</a></li>
  <li><a href="#extracting-raster-data" id="toc-extracting-raster-data" class="nav-link" data-scroll-target="#extracting-raster-data"><span class="header-section-number">4.4.2</span> Extracting raster data</a></li>
  <li><a href="#saving-the-extracted-raster-layer-into-geopackage" id="toc-saving-the-extracted-raster-layer-into-geopackage" class="nav-link" data-scroll-target="#saving-the-extracted-raster-layer-into-geopackage"><span class="header-section-number">4.4.3</span> Saving the extracted raster layer into Geopackage</a></li>
  </ul></li>
  <li><a href="#image-enhancement-using-qgis" id="toc-image-enhancement-using-qgis" class="nav-link" data-scroll-target="#image-enhancement-using-qgis"><span class="header-section-number">4.5</span> Image Enhancement using QGIS</a></li>
  <li><a href="#creating-composite-images-using-scp" id="toc-creating-composite-images-using-scp" class="nav-link" data-scroll-target="#creating-composite-images-using-scp"><span class="header-section-number">4.6</span> Creating Composite Images using SCP</a>
  <ul class="collapse">
  <li><a href="#building-a-band-set" id="toc-building-a-band-set" class="nav-link" data-scroll-target="#building-a-band-set"><span class="header-section-number">4.6.1</span> Building a band set</a></li>
  <li><a href="#creating-natural-colour-composite-image" id="toc-creating-natural-colour-composite-image" class="nav-link" data-scroll-target="#creating-natural-colour-composite-image"><span class="header-section-number">4.6.2</span> Creating natural colour composite image</a></li>
  <li><a href="#creating-false-colour-composite-image" id="toc-creating-false-colour-composite-image" class="nav-link" data-scroll-target="#creating-false-colour-composite-image"><span class="header-section-number">4.6.3</span> Creating false colour composite image</a></li>
  <li><a href="#creating-colour-composite-with-bands-7-5-3" id="toc-creating-colour-composite-with-bands-7-5-3" class="nav-link" data-scroll-target="#creating-colour-composite-with-bands-7-5-3"><span class="header-section-number">4.6.4</span> Creating colour composite with Bands 7-5-3</a></li>
  </ul></li>
  <li><a href="#deriving-band-combinations-ratios-and-indices" id="toc-deriving-band-combinations-ratios-and-indices" class="nav-link" data-scroll-target="#deriving-band-combinations-ratios-and-indices"><span class="header-section-number">4.7</span> Deriving Band Combinations, Ratios and Indices</a>
  <ul class="collapse">
  <li><a href="#computing-normalized-difference-vegetation-index-ndvi" id="toc-computing-normalized-difference-vegetation-index-ndvi" class="nav-link" data-scroll-target="#computing-normalized-difference-vegetation-index-ndvi"><span class="header-section-number">4.7.1</span> Computing Normalized Difference Vegetation Index (NDVI)</a></li>
  <li><a href="#computing-normalized-difference-built-up-index-ndbi" id="toc-computing-normalized-difference-built-up-index-ndbi" class="nav-link" data-scroll-target="#computing-normalized-difference-built-up-index-ndbi"><span class="header-section-number">4.7.2</span> Computing Normalized Difference Built-up Index (NDBI)</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Processing and Visualising Landsat 8 Data</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="overview" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="overview"><span class="header-section-number">4.1</span> Overview</h2>
<p>In this chapter, we will focus on learning how to process the downloaded Landsat 8 data using QGIS and Semi-Automatic Classification Plugin of QGIS. It is a continuation of Chapter 2. We assume that you already have Landsat 8 data set(s) downloaded. If you have yet to do so, please refer to <a href="Hands-on_01.html">Chapter 2: Acquiring Landsat 8 Data</a> to download a Landsat 8 data set of an area of interest.</p>
<p>By the end of this chapter, you will acquire the skills to:</p>
<ul>
<li>extract subset from a complete scene,</li>
<li>enhance individual band for clearer visualisation,</li>
<li>create composite images by using multiple bands for visual interpretation,</li>
<li>compute vegetation indices for land cover analysis.</li>
</ul>
</section>
<section id="installing-semi-automatic-classification-plugin" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="installing-semi-automatic-classification-plugin"><span class="header-section-number">4.2</span> Installing Semi-Automatic Classification Plugin</h2>
<p>Before we getting started, we will install a QGIS plugin specially designed for digital image processing and classification called Semi-Automatic Classification Plugin (SCP). It provides tools for the download, the preprocessing and postprocessing of images. It also allows for the supervised classification of remote sensing images. The plugin requires the installation of GDAL, OGR, Numpy, SciPy, and Matplotlib. Some tools require also the installation of SNAP (ESA Sentinel Application Platform). For more information please visit https://fromgistors.blogspot.com .</p>
<ul>
<li>From the menu bar, click on <strong>Plugin</strong> -&gt; <strong>Manage and Install Plugins</strong>.</li>
</ul>
<p><img src="img03/image1.jpg" class="img-fluid" width="300"></p>
<p>Plugins dialog window appears.</p>
<ul>
<li>At the search, type Semi-Automatic.</li>
</ul>
<p>You will see the plugin appears.</p>
<p><img src="img03/image2.jpg" class="img-fluid"></p>
<ul>
<li>Click on <strong>Install Plugin</strong> button to install the plugin.</li>
</ul>
<p>When the installation completed,</p>
<ul>
<li>click on the <strong>Close</strong> button to close the dialog window.</li>
</ul>
<p>By default, SCP tools menu and icons should appears on your QGIS. If they are not there, do the followings:</p>
<ul>
<li>From the menu bar, click on View -&gt; toolbars.</li>
</ul>
<p><img src="img03/image3.jpg" class="img-fluid" width="247"></p>
<ul>
<li>Click on the check-box in front of <strong>SCP Working Toolbar</strong>.</li>
</ul>
<p>Notice that SCP Working Toolbar is added on QGIS menu bar.</p>
<p><img src="img03/image4.jpg" class="img-fluid"></p>
</section>
<section id="importing-landsat-8-data" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="importing-landsat-8-data"><span class="header-section-number">4.3</span> Importing Landsat 8 data</h2>
<p>Now, let us import the Landsat 8 data into QGIS environment.</p>
<ul>
<li>From the menu bar, select <strong>Layer</strong> -&gt; <strong>Add Layer</strong> -&gt; <strong>Add Raster Layer</strong>.</li>
</ul>
<p><img src="img03/image5.jpg" class="img-fluid"></p>
<p><strong>Data Source Manager|Raster</strong> dialog window appears.</p>
<p><img src="img03/image6.jpg" class="img-fluid"></p>
<ul>
<li><p>Click on the button at the end of <strong>Raster dataset(s)</strong>.</p></li>
<li><p>Navigate to the folder where the Landsat 8 data were reside.</p></li>
<li><p>Press on ctrl key, then click on <strong>B1</strong> until <strong>B11</strong> data.</p></li>
</ul>
<p><img src="img03/image7.jpg" class="img-fluid"></p>
<ul>
<li>Then, click on <strong>Open</strong> button.</li>
</ul>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img03/image8.jpg" class="img-fluid"></p>
<p>Notice that the scene cover areas beyond the national boundary of Singapore.</p>
</section>
<section id="extracting-scene-within-singapore" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="extracting-scene-within-singapore"><span class="header-section-number">4.4</span> Extracting Scene within Singapore</h2>
<p>We are going to use the extend of MP14 Planning Subzone GIS data to extract the raw scene. The data can be downloaded from data.gov.sg homepage. It is in ESRI shapefile format.</p>
<section id="importing-mp14-planning-subzone-boundary-into-qgis" class="level3" data-number="4.4.1">
<h3 data-number="4.4.1" class="anchored" data-anchor-id="importing-mp14-planning-subzone-boundary-into-qgis"><span class="header-section-number">4.4.1</span> Importing MP14 Planning Subzone boundary into QGIS</h3>
<p>After downloading MP14 Planning Subzone boundary shapefile, we will import it into QGIS environment.</p>
<ul>
<li>From the menu bar, select <strong>Layer</strong> -&gt; <strong>Add Layer</strong> -&gt; <strong>Add Vector Layer</strong>.</li>
</ul>
<p><img src="img03/image9.jpg" class="img-fluid"></p>
<p><strong>Data Source Manager|Vector</strong> dialog window appears.</p>
<ul>
<li><p>Click on the button at the end of Vector Dataset(s).</p></li>
<li><p>Navigate to the folder where MP14 Planning Subzone Boundary shapefile are reside.</p></li>
<li><p>Click on the file with .shp extension.</p></li>
<li><p>Click on <strong>Open</strong> button.</p></li>
</ul>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img03/image19.jpg" class="img-fluid"></p>
<ul>
<li>Click on Add button.</li>
</ul>
<p>When the data is added onto QGIS successfully.</p>
<ul>
<li>click on Close button to close the dialog window.</li>
</ul>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img03/image20.jpg" class="img-fluid"></p>
<p>Before we can perform the raster data extraction, it is important for us to ensure that the reference data (i.e.&nbsp;MP14 Planning Subzone Boundary) has a proper EPSG code.</p>
<ul>
<li>Right-click on <code>MP14_PLNG_AREA_NO_SEA_PL</code> and select <strong>Properties</strong> from the context menu.</li>
<li>If necessary click on <strong>Source</strong> tab.</li>
</ul>
<p>Notice that although the shapefile is in svy21 projection system but it does not have appropriate EPSG code.</p>
<p><img src="img03/image21.jpg" class="img-fluid"></p>
<ul>
<li>Click on the drop-down list behind, select <strong>EPSG:3414 - SVY21 / Singapore TM</strong>.</li>
</ul>
<p><img src="img03/image22.jpg" class="img-fluid"></p>
<ul>
<li><p>Click on <strong>Apply</strong> button to update the change.</p></li>
<li><p>Click on <strong>OK</strong> to close the dialog window.</p></li>
</ul>
</section>
<section id="extracting-raster-data" class="level3" data-number="4.4.2">
<h3 data-number="4.4.2" class="anchored" data-anchor-id="extracting-raster-data"><span class="header-section-number">4.4.2</span> Extracting raster data</h3>
<p>Now, we are ready to extract the data.</p>
<ul>
<li>From the menu bar, select <strong>Raster</strong> -&gt; <strong>Extraction</strong> -&gt; <strong>Clip Raster by Extent</strong>.</li>
</ul>
<p><img src="img03/image23.jpg" class="img-fluid" width="335"></p>
<p><strong>Clip Raster by Extent</strong> appears.</p>
<p><img src="img03/image24.jpg" class="img-fluid"></p>
<ul>
<li>For <strong>Input layer</strong>, select one of the raster layer from the list.</li>
</ul>
<p><img src="img03/image25.jpg" class="img-fluid"></p>
<ul>
<li><p>For <strong>Clipping exten</strong>t, click on the button at the end of the pane.</p></li>
<li><p>Select <strong>Calculate from Layer</strong> from the context menu,</p></li>
</ul>
<p><img src="img03/image26.jpg" class="img-fluid" width="253"></p>
<ul>
<li>Select <code>MP14_PLNG_AREA_NO_SEA_PL</code> from the list.</li>
</ul>
<p><img src="img03/image27.jpg" class="img-fluid"></p>
<ul>
<li>Click on <strong>Run</strong> button.</li>
</ul>
<p>When the process completed, read the process log carefully to ensure that there is not error.</p>
<ul>
<li>Click on <strong>Close</strong> button to close the dialog window.</li>
</ul>
<p>Notice that a temporary layer called <code>Clipped</code> is added in the <em>Layers</em> panel and display on the <em>View</em> window.</p>
<p><img src="img03/image28.jpg" class="img-fluid" width="349"></p>
</section>
<section id="saving-the-extracted-raster-layer-into-geopackage" class="level3" data-number="4.4.3">
<h3 data-number="4.4.3" class="anchored" data-anchor-id="saving-the-extracted-raster-layer-into-geopackage"><span class="header-section-number">4.4.3</span> Saving the extracted raster layer into Geopackage</h3>
<p>Next , we will save the temporary clipped raster layer into GeoPackage.</p>
<ul>
<li><p>From <strong>Layer</strong> panel, right-click on <strong>Clipped</strong>.</p></li>
<li><p>Select <strong>Export</strong> -&gt; <strong>Save as</strong> from the context menu.</p></li>
</ul>
<p><strong>Save Raster Layer</strong> as dialog window appears.</p>
<p><img src="img03/image29.jpg" class="img-fluid"></p>
<ul>
<li><p>For <strong>Format</strong>, select <strong>GeoPackage</strong> from the drop-down list.</p></li>
<li><p>For <strong>File name</strong>, navigate to <code>GeoPackage</code> folder (Note: Create a folder called <code>GeoPackage</code> if you do not have one).</p></li>
<li><p>Give a new GeoPackage name (i.e.&nbsp;SG).</p></li>
<li><p>For <strong>Layer name</strong>, give the layer a name such as <code>LC08_20180508_B1</code>.</p></li>
</ul>
<p>Note that this is an Landsat 8 data, we tend to include the date when the scene was captured (i.e.&nbsp;20180508) and which band (i.e.&nbsp;B1) for the layer name.</p>
<ul>
<li>Lastly, click on <strong>OK</strong> button to run the process.</li>
</ul>
<p>When the process completed, notice that a new layer called <code>LC08_20180508_B1</code> is added into <strong>Layer</strong> panel and display on <strong>View</strong> window.</p>
<p><img src="img03/image30.jpg" class="img-fluid"></p>
<ul>
<li>Remove <code>Clipped</code> temporary layer from <strong>Layer</strong> panel.</li>
</ul>
<blockquote class="blockquote">
<p>DIY: Repeat the steps you had learned to extract the remaining 10 bands and save them into the newly created GeoPackage.</p>
</blockquote>
<ul>
<li>Check all the extracted file carefully. If all layers are in proper order. Remove the raw scene layers from QGIS’s <strong>Layer</strong> panel.</li>
</ul>
<p>The <strong>Layer</strong> panel should have the extracted layers as shown below.</p>
<p><img src="img03/image31.jpg" class="img-fluid" width="274"></p>
</section>
</section>
<section id="image-enhancement-using-qgis" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="image-enhancement-using-qgis"><span class="header-section-number">4.5</span> Image Enhancement using QGIS</h2>
<p>Image enhancement algorithms are applied to remotely sensed data to improve the appearance of an image for human visual analysis or occasionally for subsequent machine analysis. There is no such thing as the ideal or best image enhancement because the results are ultimately evaluated by humans, who make subjective judgments as to whether an enhanced image is useful.</p>
<p>In this section, you will learn how to perform image enhancement task by using basic QGIS function.</p>
<ul>
<li>From Layers panel, click on the check-box of <code>LC08_20180508_B1</code>.</li>
</ul>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img03/image32.jpg" class="img-fluid"></p>
<p>This is Landsat Band1 image. Unfortunately, this image layer has very poor contrast. As a result, we can hardly see any ground features from the image. This issue can be address by using image enhancement provided by QGIS.</p>
<ul>
<li>From the menu bar, select Zoom in <img src="img03/image33.jpg" class="img-fluid" width="23"> button.</li>
</ul>
<p>Build a small rectangle look similar to the screenshot below.</p>
<p><img src="img03/image34.jpg" class="img-fluid" width="366"></p>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img03/image35.jpg" class="img-fluid"></p>
<ul>
<li>Now, right-click on <code>LC08_20180508_B1</code>, select Stretch Using Current Extend from the context menu.</li>
</ul>
<p>Your screen should look similar to the screenshot below.</p>
<p><img src="img03/image36.jpg" class="img-fluid"></p>
<p>Let us zoom back to the full extent of the image and take a look at what has changed.</p>
<ul>
<li>From Layers panel, right click on <code>LC08_20180508_B1</code> and select Zoom to Layer(s).</li>
</ul>
<p>Now you can see the ground feature much clearer because the image have relatively better contrast as shown in the screenshot below.</p>
<p><img src="img03/image37.jpg" class="img-fluid"></p>
</section>
<section id="creating-composite-images-using-scp" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="creating-composite-images-using-scp"><span class="header-section-number">4.6</span> Creating Composite Images using SCP</h2>
<p>With satellite remote sensing systems it is possible to detect and record parts of the electromagnetic spectrum that cannot be detected by the naked eye, for example, the infrared band. To visualise this information we pair up display colours (red-green-blue) with spectral bands in the observation system that do not necessary correspond to them. In so doing, we create coloured composites that are sometimes called ‘false colour images’. In this section, you will learn how to create colour composite image by using SCP of QGIS.</p>
<section id="building-a-band-set" class="level3" data-number="4.6.1">
<h3 data-number="4.6.1" class="anchored" data-anchor-id="building-a-band-set"><span class="header-section-number">4.6.1</span> Building a band set</h3>
<p>Image input in SCP is named <strong>band set</strong>. One of the main changes of SCP 6 will be the ability to define multiple band sets (in SCP 5 only one Band set can be defined) as input for classification and other tools.</p>
<p>Now, let us create a band set by using Band Set tool.</p>
<ul>
<li>From the menu bar, click on Semi-Automatic Classification Plugin <img src="img03/image38.jpg" width="21" height="23"> icon.</li>
</ul>
<p>Semi-Automatic Classification Plugin dialog window appears.</p>
<p><img src="img03/image39.jpg" class="img-fluid"></p>
<p>Next, we will select the input image bands from Single Band list.</p>
<ul>
<li><p>From <strong>Single band list</strong>, click on the check-box in front of Band 1 to Band 7.</p></li>
<li><p>Then, click on the plus icon located at the right panel.</p></li>
</ul>
<p><img src="img03/image41.jpg" class="img-fluid"></p>
<p>Notice that the selected seven bands have been added into <strong>Band set definition</strong> list as shown below.</p>
<p><img src="img03/image42.jpg" class="img-fluid"></p>
<p>Band sets are identified by numbers (i.e.&nbsp;Band set 1) and the active band set (i.e.&nbsp;highlighted with a bold green name) is used as input for the tools in SCP dock. It will be possible to change the classification input just by selecting the corresponding band set tab. In a few clicks we will be able to compare the classification previews of different images without the need to create different QGIS projects.</p>
<p>Next, we will update the wavelength summary.</p>
<ul>
<li>At Wavelength quick settings, click on the drop-down list at the back.</li>
</ul>
<p><img src="img03/image43.jpg" class="img-fluid"></p>
<ul>
<li>Then, select Landsat 8 OLI [bands 1, 2, ,3, 4, 5, 6, 7] which is the input images source.</li>
</ul>
<p><img src="img03/image44.jpg" class="img-fluid"></p>
<p>Notice that the Band set list information have been updated.</p>
<p><img src="img03/image45.jpg" class="img-fluid"></p>
</section>
<section id="creating-natural-colour-composite-image" class="level3" data-number="4.6.2">
<h3 data-number="4.6.2" class="anchored" data-anchor-id="creating-natural-colour-composite-image"><span class="header-section-number">4.6.2</span> Creating natural colour composite image</h3>
<p>Now, we are ready to create colour composite image by using the Band set.</p>
<p>First, we will create a natural colour composite by using</p>
<ul>
<li><p>Return to QGIS window.</p></li>
<li><p>Click on the drop-down list behind RGB pane.</p></li>
<li><p>Select 4-3-2 from the drop-down list. If it is not available, type directly onto the pane.</p></li>
</ul>
<p><img src="img03/image46.jpg" class="img-fluid" width="160"></p>
<p>Notice that a Virtula Band Set 1 is added onto Layers panel.</p>
<p><img src="img03/image47.jpg" class="img-fluid" width="269"></p>
<p>Your screen should look similar screenshot below.</p>
<p><img src="img03/image48.jpg" class="img-fluid"></p>
<p>This is what the terrain would look like if we were onboard the satellite platform looking down on Singapore.</p>
<p>While healthy vegetation appears green, cleared fields are light, unhealthy flora is brown and yellow, roads are grey, and coastlines appear whitish. This band combination is well suited for the analysis of aquatic ecosystems, determining water depth. It is also used to study man-made features. With this band combination, logged areas and sparse vegetation are poorly detected, and it is difficult to differentiate one type of vegetation from another.</p>
</section>
<section id="creating-false-colour-composite-image" class="level3" data-number="4.6.3">
<h3 data-number="4.6.3" class="anchored" data-anchor-id="creating-false-colour-composite-image"><span class="header-section-number">4.6.3</span> Creating false colour composite image</h3>
<ul>
<li>Let us now create a false colour composite by select the bands’ RGB as 5-4-3.</li>
</ul>
<p><img src="img03/image49.jpg" class="img-fluid"></p>
<p>In false colour composite image, vegetation appears in shades of red, urban areas are green-blue, and the soil color varies from dark to light brown. The shades of deep red indicate healthy and/or broadleaf vegetation, while grassy or sparse/shrubby vegetation appears in lighter shades. This combination is very popular and is used for analyzing vegetation, monitoring soil and crops.</p>
</section>
<section id="creating-colour-composite-with-bands-7-5-3" class="level3" data-number="4.6.4">
<h3 data-number="4.6.4" class="anchored" data-anchor-id="creating-colour-composite-with-bands-7-5-3"><span class="header-section-number">4.6.4</span> Creating colour composite with Bands 7-5-3</h3>
<ul>
<li>Now, let us create a new colour composite by select the bands’ RGB as 7-5-3.</li>
</ul>
<p>Your screen should look similar to screenshot below.</p>
<p><img src="img03/image50.jpg" class="img-fluid"></p>
<p>This band composite produces an image close to natural colors, and at the same time allows analyzingvthe atmosphere and smoke. Healthy vegetation appears bright green, the grass is green, bright pink areas indicate bare earth, brown and orange hues are characteristic of sparse vegetation. Dead vegetation appears orange, and the water is blue. This band composite is well suited for the analysis of agricultural lands and wetlands, monitoring the dynamics of fires, and post-fire analysis of the territory. Burnt-down areas will appear bright red.</p>
<blockquote class="blockquote">
<p>DIY: Using the steps your had learned, create the following colour composites: (5,6,2), (5,6,4), (7,6,4), (6,5,4) and (7,6,5)</p>
</blockquote>
</section>
</section>
<section id="deriving-band-combinations-ratios-and-indices" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="deriving-band-combinations-ratios-and-indices"><span class="header-section-number">4.7</span> Deriving Band Combinations, Ratios and Indices</h2>
<p>For simple applications such as delineating surface water boundaries, a simple process such as display of a near or middle infrared band can be sufficient. Algebraic combinations of certain bands via division, addition, subtraction, or multiplication can lead to enhanced information. Differences and ratios in various bands are primarily used for change detection and spectral enhancement studies.</p>
<p>The most common image band ratios typically include the following: infrared band over red band for vegetation distribution; short-wave infrared band over near infrared band for urban built-up area, green band over red band for mapping surface water bodies and wetland delineation; red band over infrared band for mapping turbid waters; and red band over blue band or red band over green band for mineral mapping.</p>
<p>In this section, you will learn how to use Raster Calculator function of QGIS to compute these indices.</p>
<section id="computing-normalized-difference-vegetation-index-ndvi" class="level3" data-number="4.7.1">
<h3 data-number="4.7.1" class="anchored" data-anchor-id="computing-normalized-difference-vegetation-index-ndvi"><span class="header-section-number">4.7.1</span> Computing Normalized Difference Vegetation Index (NDVI)</h3>
<p>Normalized Difference Vegetation Index (NDVI) quantifies vegetation by measuring the difference between near-infrared (which vegetation strongly reflects) and red light (which vegetation absorbs). The general formula of NDVI is defined as:</p>
<p><img src="img03/image51.png" class="img-fluid" width="182"></p>
<p>whereby NIR indicates near infra-red band and Red indicates red band.</p>
<p>The result of this formula generates a value between -1 and +1. If you have low reflectance (or low values) in the red channel and high reflectance in the NIR channel, this will yield a high NDVI value. And vice versa.</p>
<p>Overall, NDVI is a standardized way to measure healthy vegetation. In general, healthy vegetation (chlorophyll) reflects more near-infrared (NIR) and green light compared to other wavelengths. But it absorbs more red and blue light. When you have high NDVI values, you have healthier vegetation. <img src="img03/image52.jpg" class="img-fluid" width="275"></p>
<p>Since we already know that for Landsat 8, band 5 and band 4 are near infra-red and red respectively. We can compute NDVI by using Raster Calculator of QGIS.</p>
<ul>
<li>From menu bar, click on <strong>Raster</strong> -&gt; <strong>Raster Calculator</strong>.</li>
</ul>
<p>Raster Calculator dialog window appears.</p>
<ul>
<li>Click on the check-box in front of <strong>Create on-the-fly raster instead of writing layer to disk</strong>.</li>
</ul>
<p><img src="img03/image53.jpg" class="img-fluid"></p>
<ul>
<li>By clicking on appropriate band from the <strong>Raster Band</strong> pane and <strong>Operators</strong> pane, construct a calculation expression as shown on the screen shot below.</li>
</ul>
<p><img src="img03/image54.jpg" class="img-fluid"></p>
<ul>
<li>When you are ready, click on <strong>OK</strong> button to run the process.</li>
</ul>
<p>With a second, a temporary raster layer is added on Layers panel and display on View window as shown on the screenshot below.</p>
<p><img src="img03/image55.jpg" class="img-fluid"></p>
<p>Notice that the NDVI values range from -0.33 to 0.63. NDVI always ranges from -1 to +1. But there isn’t a distinct boundary for each type of land cover. For example, when you have negative values, it’s <strong>highly likely that it’s water</strong>. On the other hand, if you have an NDVI value close to +1, there’s a high possibility that it’s <strong>dense green leaves</strong>. But when NDVI is close to zero, there are likely no green leaves and it could even be an <strong>urbanized area</strong>.</p>
<blockquote class="blockquote">
<p>DIY: Using the steps you had learned, save the temporary NDVI layer in GeoTIFF. For easy visual interpretation, you might want to change the colour scheme to a diverging pseudo colour scheme similar to the screenshot below.</p>
</blockquote>
<p><img src="img03/image56.jpg" class="img-fluid"></p>
</section>
<section id="computing-normalized-difference-built-up-index-ndbi" class="level3" data-number="4.7.2">
<h3 data-number="4.7.2" class="anchored" data-anchor-id="computing-normalized-difference-built-up-index-ndbi"><span class="header-section-number">4.7.2</span> Computing Normalized Difference Built-up Index (NDBI)</h3>
<p>There are lots of indexes for the analysis of built-up area. Normalized Difference Built-up Index (NDBI), Built-up Index (BU), Urban Index (UI), Index-based Built-up Index (IBI), Enhanced Built-up and Bareness Index (EBBI) are most common indexes for analysis the built-up areas. These different indexes having their own formula, own calculation method. The build-up areas and bare soil reflects more SWIR than NIR. Water body doesn’t reflect on Infrared spectrum. In case of greenie surface, reflection of NIR is higher than SWIR spectrum.</p>
<p>The general formula of NDBI can be defined as follow:</p>
<p>NDBI = (SWIR – NIR) / (SWIR + NIR)</p>
<p>whereby NIR and SWIR are the near infrared (NIR) and the Short-Wave infrared (SWIR) bands respectively.</p>
<p>Similar to NDVI, the NDBI value lies between -1 to +1. Negative value of NDBI represent water bodies where as higher value represent build-up areas. NDBI value for vegetation is low.</p>
<p>Now, let us compute NDBI by using Raster Calculator of QGIS.</p>
<blockquote class="blockquote">
<p>DIY: Using the steps you had learned, compute the NDBI by using Landsat 8 bands, save the temporary NDBI layer in GeoTIFF format.</p>
</blockquote>
<p>Screenshot below show an example of NDBI layer. Areas with positive NDBI are shaded in brown and areas with negative NDBI are shared in green.</p>
<p><img src="img03/image57.jpg" class="img-fluid"></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Hands-on_02.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Acquiring Sentinel-2 Data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Hands-on_04.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Supervised Satellite Image Classification for Urban Land Cover Mapping</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>